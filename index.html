<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Node-foundationdblayers by agad</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Node-foundationdblayers</h1>
        <p>Layers for FoundationDb using Node.js</p>

        <p class="view"><a href="https://github.com/agad/node-foundationdblayers">View the Project on GitHub <small>agad/node-foundationdblayers</small></a></p>


        <ul>
          <li><a href="https://github.com/agad/node-foundationdblayers/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/agad/node-foundationdblayers/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/agad/node-foundationdblayers">View On <strong>GitHub</strong></a></li>
        </ul>
        
         <p>API Index</p>
         
         <div>
           <ul>
<li><strong><a href="docs/api_array.html">Array Layer</a></strong></li>
<li><strong><a href="docs/api_counter.html">Counter Layer</a></strong></li>
<li><strong><a href="docs/api_queue.html">Queue/Stack Layer</a></strong></li>
<li><strong><a href="docs/api_table.html">Table Layer</a></strong></li>
<li><strong><a href="docs/api_bloomfilter.html">Bloom Filter Layer</a></strong></li>
<li><strong><a href="docs/api_sortedset.html">Scored Set Layer</a></strong></li>
<li><strong><a href="docs/api_relationshipgraph.html">Relationship Graph Layer</a></strong></li>
</ul>
           
         </div>
        
      </header>
      <section>
        <h3>FoundationDB Layers for Node.js (alpha)</h3>

<p>This library offers a set of layers to use with the <a href="http://www.foundationdb.com/">FoundationDB database</a>.  FoundationDB
is an interesting, new noSQL variant that combines true ACID transactions across server instances and multiple key/value pairs.
In order to take full advantage of the FoundationDB paradigm, the developer must create layers that wrap key/value pair transactions.
The FoundationDB Layers for Node.js library provides basic structures such as <strong>counter</strong> and <strong>array</strong>, as well as more advanced layers:</p>

<ul>
<li>
<strong>Queue Layer (FIFO queues and LIFO stacks)</strong> - implements First-In/First-Out or Last-In/First-Out.</li>
<li>
<strong>Table Layer</strong> - store related data in row/column format used in traditional RDBMS systems.</li>
<li>
<strong>Bloom Filter Layer</strong> - a space-efficient data structure that tests whether an element is a set member. False positives are possible.  False negatives are not possible.</li>
<li>
<strong>Scored Set Layer</strong> - simple data structure that tracks scores for specific ids.  Adding an element to the set increments its score, removing the element decrements the score.</li>
<li>
<strong>Relationship Graph Layer</strong> - track parent -&gt; child and bidirectional relationships.</li>
</ul><p>Upcomming layers include:</p>

<ul>
<li><strong>Capped List Layer</strong></li>
<li><strong>TTL Expiration Layer</strong></li>
<li><strong>Column Index Layer</strong></li>
<li><strong>Table Filter Layer</strong></li>
</ul><p>Please note this library is considered alpha.  Although there are functional and unit tests around the layers, no performance tuning has been done and the code is still considered very rough.  Use the layers in
real projects at your own risk.</p>

<h2>Installation</h2>

<p>The library can be installed from NPM:</p>

<pre><code>npm install node-foundationdblayers
</code></pre>

<p>Note that the use of the library requires installation of the FoundationDB client infrastructure.  See the <a href="http://www.foundationdb.com/documentation/beta1/api-node.html">FDB Node API
docs</a>.</p>

<h2>Documentation</h2>

<h3>Data Types</h3>

<p>The library handles strings, integers, decimals, booleans, dates, arrays and objects.  In order to intelligently retrieve
the correct datatype back from the database, values saved into the database are encoded as a tuple with 2 values.  The first
value is the datatype.  The second value is the "real" value.  As long as data is retrieved via the library, the data returned
from any function will be properly translated into its appropriate javascript type.  If data is retrieved directly from the
database without going through the library, use the first unpacked tuple value to determine the type stored in the buffer:</p>

<ul>
<li>string = 0</li>
<li>integer = 1</li>
<li>decimal = 2</li>
<li>boolean = 3</li>
<li>date = 4</li>
<li>arrays = 5</li>
<li>objects = 5</li>
<li>NULL = 6</li>
</ul><p>The library only supports integers between the values of -9007199254740993 and 9007199254740991 because these
are the limits of what javascript can handle with precision.  If you need to support values larger or smaller, turn to
one of the bigint/bigdecimal libraries and convert the values to strings before storing in the library.</p>

<p>Decimals are stored as string buffers and then are converted to floats when extracted.</p>

<p>Arrays and objects are stored as JSON strings and are converted back to the original array/object via JSON parse when retrieved.</p>

<h3>API</h3>

<ul>
<li><strong><a href="docs/api_array.html">Array Layer</a></strong></li>
<li><strong><a href="docs/api_counter.html">Counter Layer</a></strong></li>
<li><strong><a href="docs/api_queue.html">Queue/Stack Layer</a></strong></li>
<li><strong><a href="docs/api_table.html">Table Layer</a></strong></li>
<li><strong><a href="docs/api_bloomfilter.html">Bloom Filter Layer</a></strong></li>
<li><strong><a href="docs/api_sortedset.html">Scored Set Layer</a></strong></li>
<li><strong><a href="docs/api_relationshipgraph.html">Relationship Graph Layer</a></strong></li>
</ul>

      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/agad">agad</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
